{"ast":null,"code":"import _classCallCheck from\"/Users/shalom/Desktop/\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05DC\\u05DC\\u05D0 \\u05E9\\u05DD 2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/shalom/Desktop/\\u05EA\\u05D9\\u05E7\\u05D9\\u05D4 \\u05DC\\u05DC\\u05D0 \\u05E9\\u05DD 2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var customFetch=function customFetch(url,headers){return fetch(url,headers).then(function(res){if(res.ok){return res.json();}else{Promise.reject(res.statusText);}});};var Api=/*#__PURE__*/function(){function Api(_ref){var _this=this;var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this.getCard=function(){return customFetch(\"\".concat(_this.baseUrl,\"/cards\"),{headers:_this.headers});};this.getUserInfo=function(){return customFetch(\"\".concat(_this.baseUrl,\"/users/me\"),{headers:_this.headers});};this.setUserInfoToServer=function(inputData){return customFetch(\"\".concat(_this.baseUrl,\"/users/me\"),{method:\"PATCH\",headers:_this.headers,body:JSON.stringify({name:inputData.name,about:inputData.about})});};this.cardLikeRequset=function(cardId){return customFetch(\"\".concat(_this.baseUrl,\"/cards/likes/\").concat(cardId),{method:\"PUT\",headers:_this.headers});};this.cardUnLikeRequset=function(cardId){return customFetch(\"\".concat(_this.baseUrl,\"/cards/likes/\").concat(cardId),{method:\"DELETE\",headers:_this.headers});};this.changeLikeCardStatus=function(cardId,isLiked){return customFetch(\"\".concat(_this.baseUrl,\"/cards/likes/\").concat(cardId),{method:\"\".concat(isLiked?\"PUT\":\"DELETE\"),headers:_this.headers});};this.setUserPicUrl=function(data){return customFetch(\"\".concat(_this.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:_this.headers,body:JSON.stringify({avatar:data.avatar})});};this.deleteCardRequest=function(elementId){return customFetch(\"\".concat(_this.baseUrl,\"/cards/\").concat(elementId),{method:\"DELETE\",headers:_this.headers});};this.baseUrl=baseUrl;this.headers=headers;}//get arry of cards obj from server\n_createClass(Api,[{key:\"setCardToServr\",value://add card func\nfunction setCardToServr(data){return customFetch(\"\".concat(this.baseUrl,\"/cards\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({name:data.name,link:data.link})});}//end of class\n}]);return Api;}();//Token: 2dbf8d5b-1a4e-4959-a937-202ce5167a76 Group ID: group-12\nvar api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-12\",// baseUrl: `http://localhost:3000`,\nheaders:{// authorization:`Bearer ${localStorage.getItem(\"jwt\")}`,\nauthorization:\"2dbf8d5b-1a4e-4959-a937-202ce5167a76\",\"Content-Type\":\"application/json\"}});// Bearer ${localStorage.getItem(\"jwt\")}\nexport default api;","map":{"version":3,"names":["customFetch","url","headers","fetch","then","res","ok","json","Promise","reject","statusText","Api","baseUrl","getCard","getUserInfo","setUserInfoToServer","inputData","method","body","JSON","stringify","name","about","cardLikeRequset","cardId","cardUnLikeRequset","changeLikeCardStatus","isLiked","setUserPicUrl","data","avatar","deleteCardRequest","elementId","link","api","authorization"],"sources":["/Users/shalom/Desktop/תיקיה ללא שם 2/frontend/src/utils/api.js"],"sourcesContent":["const customFetch = (url, headers) => {\r\n    return fetch(url, headers).then((res) => {\r\n        if (res.ok) { return res.json(); }\r\n        else { Promise.reject(res.statusText); }\r\n    })\r\n\r\n}\r\n  class Api {\r\n    constructor({ baseUrl, headers }) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n\r\n    }\r\n    //get arry of cards obj from server\r\n    getCard = () => {\r\n        return customFetch(`${this.baseUrl}/cards`, { headers: this.headers })\r\n\r\n    };\r\n    //get user info from server\r\n    getUserInfo = () => {\r\n        return customFetch(`${this.baseUrl}/users/me`, { headers: this.headers })\r\n    }\r\n\r\n \r\n    //set user info\r\n    setUserInfoToServer = (inputData) => {\r\n        return customFetch(`${this.baseUrl}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: inputData.name,\r\n                about: inputData.about\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    //card like requset\r\n    cardLikeRequset = (cardId) => {\r\n        return customFetch(`${this.baseUrl}/cards/likes/${cardId}`,\r\n            {\r\n                method: \"PUT\",\r\n                headers: this.headers,\r\n            }\r\n        )\r\n    }\r\n\r\n    //unlike card req from server\r\n    cardUnLikeRequset = (cardId) => {\r\n        return customFetch(`${this.baseUrl}/cards/likes/${cardId}`,\r\n            {\r\n                method: \"DELETE\",\r\n                headers: this.headers,\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    changeLikeCardStatus = (cardId, isLiked) => {\r\n        return customFetch(`${this.baseUrl}/cards/likes/${cardId}`,\r\n            {\r\n                method:`${isLiked ? \"PUT\" : \"DELETE\"}`,\r\n                headers: this.headers,\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    // requset to chenge profile pic \r\n    setUserPicUrl = (data) => {\r\n        return customFetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n    }\r\n    //add card func\r\n    setCardToServr(data) {\r\n        return customFetch(`${this.baseUrl}/cards`, {\r\n            method: \"POST\",\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n    }\r\n\r\n    deleteCardRequest = (elementId) => {\r\n        return customFetch(`${this.baseUrl}/cards/${elementId}`,\r\n            {\r\n                method: \"DELETE\",\r\n                headers: this.headers,\r\n            }\r\n        )\r\n    }\r\nupdateToken\r\n\r\n\r\n    //end of class\r\n}\r\n\r\n\r\n\r\n//Token: 2dbf8d5b-1a4e-4959-a937-202ce5167a76 Group ID: group-12\r\n\r\n  const api = new Api({\r\n    baseUrl: `https://around.nomoreparties.co/v1/group-12`,\r\n    // baseUrl: `http://localhost:3000`,\r\n    headers: {\r\n        // authorization:`Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        authorization:`2dbf8d5b-1a4e-4959-a937-202ce5167a76`,\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n});\r\n\r\n// Bearer ${localStorage.getItem(\"jwt\")}\r\nexport default api"],"mappings":"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"},"metadata":{},"sourceType":"module"}